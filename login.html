<!DOCTYPE html>
<html lang="en" >

<head>
  <meta charset="UTF-8">
  <title>Wood&Mortar</title>
  <html lang="en" class="no-js"><head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <META HTTP-EQUIV="EXPIRES" CONTENT="Mon, 22 Jul 2002 11:12:01 GMT">
      <html class="no-js" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
          <META NAME="KEYWORDS" CONTENT="property maintenance, home improvement, home repair, house repair, house improvement, design, home design, designers, kitchen remodel, bathroom remodel, kitchen design, kitchen makeover, improvement, kitchen, bathroom, small kitchen remodel, Painters, Painting, woodworking, tile, home repair, Contractors, Home, Home Renovations, Wood, wood&mortar, wood & mortar, brick, stucco, Wood and Mortar, WoodandMortar">
          <META NAME="ROBOTS" CONTENT="ALL,FOLLOW">
          <meta name="mobile-web-app-capable" content="yes">
          <meta name="description" content="Kansas City Contractors">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <link rel="apple-touch-icon" sizes="180x180" href="pics/wm.png">
              <link rel="icon" type="image/png" href="pics/wm.png" sizes="32x32">
              <link rel="icon" type="image/png" href="pics/wm.png" sizes="16x16">
              <link rel="mask-icon" href="pics/wm.png" color="#fff">
              <link rel="shortcut icon" href="pics/wm.png">
              <link rel="manifest" href="manifest.json">
              <script src="https://apis.google.com/js/platform.js" async defer></script>
              <meta name="google-signin-client_id" content="876802948446-hq89rbp43opigb73ks5soa3c3gmqmnrj.apps.googleusercontent.com">


      <link rel="stylesheet" href="css/calc.css">
      <link rel="stylesheet" href="css/est.css">

      <!-- Global site tag (gtag.js) - Google Analytics -->
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123535120-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-123535120-1');
      </script>

</head>

<style>
.diamond {
  position: absolute;
  height: 60px;
  z-index: 30;
  width: 260px;
  line-height: 50px;
  text-align: center;
  font-size: 24px;
}
.diamond:before {
  position: absolute;
  content: '';
  bottom: 0px;
  left: 0px;
  height: 100%;
  width: 100%;
  background-color: #fff;
  z-index: -1;
}
.container2 {
  width: 90%;
  height: 18%;
  display: flex;
  flex-wrap: wrap;
  justify-content: right;
  align-items: center;
}
.container3 {
  width: 90%;
  top: 18%;
  position: absolute;
  left: 1px;
  z-index: 40;
}
.pic1 {
   width: 100px;
   bottom: 10px;
   position: absolute;
   left: 10px;
   z-index: 90;
 }
</style>

<script>
var toggleVisibility = function(element) {
  if(element.style.display=='block'){
      element.style.display='none';
  } else {
      element.style.display='block';
  }
}
</script>

<body>

  <head>
  <title>Wood&Mortar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<div class="carousel">
  <div class="carousel-item carousel-item--1">
    <div class="carousel-item__image">
    <div class="carousel-item__info">
      <div class="carousel-item__container">

        <div class="g-signin2" data-onsuccess="onSignIn"></div>
        <br/><br/><br/><br/>
        <a href="index.html" class="carousel-item__btn">Home</a>
        <br/><br/><br/><br/>
        <a class="carousel-item__btn" onclick="assistance()"><br/><span id="vresp">Assistance</span></a>
        </div>
    </div>

  </div>
  <div class="container">

  <script type="text/javascript">var submitted=false;</script>

  <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;" onload="if(submitted) {window.location='#';}"></iframe>


    <form action="https://docs.google.com/forms/d/e/1FAIpQLSemS38z7oZ7-d1yEJZw12txsBMbonIfsL8QjP1pDPZg1IaAfg/formResponse" id="main-contact-form" target="hidden_iframe"
    onsubmit="submitted=true;" >

 <img class="pic1" id="profilePic" src="pics/locked.png" style="width:100px">

<span id="vresp2">Please login</span>

    <div class="form-group" id="foo" style="display:none">
      <div class="select">
        <select id="fEmail" name="project" required="required">
          <option value="">Select Project</option>
          <option value="1010 Prospect">1010 Prospect</option>
          <option value="608 Hardesty Ave">608 Hardesty Ave</option>
        </select>
        <div class="select__arrow"></div>
      </div>
      <button id="ButtonSubmit" onclick="postContactToGoogle();" class="btn-submit" >Clock In/Out</button>
      <br/><br/>
      <a href="https://docs.google.com/spreadsheets/d/1R_M0VQZFXZVp2-p0lphYz17KfA8KNIwq-0i0kSkgTDk/edit?usp=sharing" class="carousel-item__btn">Time Sheets</a>
      <br/><br/>
      <a href="https://docs.google.com/spreadsheets/d/1VQZBdM2gF3dhZcJaLkGfIVHLFhoTpRbo3pTH-5Gm9Zo/edit?usp=sharing" class="carousel-item__btn">Inventory</a>
      <br/><br/>
      <a href="https://docs.google.com/spreadsheets/d/1fpyJV54JqJC9ysZuK-PUjvPd73N-JMh__vCQ3AWC86s/edit?usp=sharing" class="carousel-item__btn">Lost Inventory</a>
      <br/><br/>
      <a href="https://docs.google.com/document/d/125rrhZdcwSK2zMYu3N91_Z0tWapQEcJzcDbly1Gwmhk/edit?usp=sharing" class="carousel-item__btn">Create Invoice</a>
</div>

      <div class="form-group" id="fo" style="display:none">
        <a href="assistance()" class="carousel-item__btn">Contact us</a>
        <br/><br/>
        <a href="signup()" class="carousel-item__btn">Request a Login</a>
        <br/><br/>
        <a href="https://docs.google.com/document/d/125rrhZdcwSK2zMYu3N91_Z0tWapQEcJzcDbly1Gwmhk/edit?usp=sharing" class="carousel-item__btn">Create Invoice</a>
      </div>

      <div class="form-group" id="foo2" style="display:none">
          <a href="assistance()" class="carousel-item__btn">Contact us</a>
          <br/><br/>
          <a href="viewDocs()" class="carousel-item__btn">View docs</a>
          <br/><br/>
          <a href="https://docs.google.com/document/d/125rrhZdcwSK2zMYu3N91_Z0tWapQEcJzcDbly1Gwmhk/edit?usp=sharing" class="carousel-item__btn">Create Invoice</a>
      </div>

    </form>


</div>





</body>


  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
  <script  src="js/index.js"></script>

<script>

var formMain;
var nameEntry = "entry.569412235";
var projectEntry = "entry.320157692";
var tagEntry = "entry.1143322173";
var email ="Matt@woodandmortar.com?&subject=Wood%20and%20Mortar&body=";

function assistance()
{
  location.href = "mailto:"+email+ "I'm " + fName + "and I'd like you to contact me.";
}

function signup()
{
  location.href = "mailto:"+email+ "I'm " + fName + "and I'd like to request a login.";
}

function viewDocs()
{
  window.location.href = 'https://drive.google.com/open?id=1TH61mYAHBB3EjCmipgwj2a-cSabHWWBO';
}

function onSignIn(googleUser) {
  var profile = googleUser.getBasicProfile();
  var fName = profile.getName();
  var userImage = profile.getImageUrl();
  document.getElementById('vresp2').innerHTML = profile.getName();
  console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
  switch(profile.getEmail()){
    default:
        toggleVisibility(document.getElementById('fo'));
        document.getElementById('profilePic').src = userImage;
        break;
        case 'micheal.mfg@gmail.com':
              toggleVisibility(document.getElementById('foo'));
              var nameEntry = "entry.569412235";
              var projectEntry = "entry.320157692";
              var tagEntry = "entry.1143322173";
              var formMain = "https://docs.google.com/forms/d/e/1FAIpQLSdvXT57YthGUIFqmd_4yFu8Wm1QkkVgFO7kf3DLTdTmdvRVVg/formResponse";
              document.getElementById("main-contact-form").action = "https://docs.google.com/forms/d/e/1FAIpQLSdvXT57YthGUIFqmd_4yFu8Wm1QkkVgFO7kf3DLTdTmdvRVVg/formResponse";
              document.getElementById('profilePic').src = userImage;
              break;
        case 'woodmortar@gmail.com':
              toggleVisibility(document.getElementById('foo'));
              var nameEntry = "entry.569412235";
              var projectEntry = "entry.320157692";
              var tagEntry = "entry.1143322173";
              document.getElementById('profilePic').src = userImage;
              break;
        case 'crycellaf@gmail.com':
              toggleVisibility(document.getElementById('foo'));
              document.getElementById('profilePic').src = userImage;
              break;
        case 'seanoack@gmail.com':
              toggleVisibility(document.getElementById('foo'));
              document.getElementById('profilePic').src = userImage;
              break;
        case 'matthewpaul389@gmail.com':
              toggleVisibility(document.getElementById('foo'));
              document.getElementById('profilePic').src = userImage;
              break;
        case 'deepoppy@gmail.com':
              toggleVisibility(document.getElementById('foo2'));
              document.getElementById('profilePic').src = userImage;
              break;
        case 'matt@woodandmortar.com':
              toggleVisibility(document.getElementById('foo'));
              document.getElementById('profilePic').src = userImage;
              break;
 }
}
	var fEmail = $('#fEmail').val();
    document.addEventListener('DOMContentLoaded',
    function() {
    document.querySelector('select[name="project"]').onchange=changeEventHandler1;
                },false);
function changeEventHandler1(event) {
  // You can use “this” to refer to the selected element.
  if(!event.target.value)
    {
      document.getElementById('vresp').innerHTML = 'Select Project';
    }
  else {
    var fEmail = event.target.value;
    var options = {
      // enableHighAccuracy can slower response times or increase power consumption
      enableHighAccuracy: true,
      // Maximum length of time (in milliseconds) the device is allowed to return a position
      timeout: 5000,
      // Maximum age in milliseconds of a possible cached position that is acceptable
      maximumAge: 1000 * 5 * 3
    };
    function startGeoLookup() {
      navigator.geolocation.getCurrentPosition(success, error, options);
       $('.overlay, .loader').fadeIn('fast');
    }
    startGeoLookup();
    function success(pos) {
      $('.overlay, .loader').fadeOut('fast');
      var crd = pos.coords;
      var tme = pos.timestamp;
      var d = new Date(tme);
      var t = new Date(tme);
      // alert("Altitude: " + crd.altitude + " \nAltitudeAccuracy: " + crd.altitudeAccuracy);
      var roundAcc = Math.floor(crd.accuracy);
      document.getElementById('vresp').innerHTML = crd.latitude + ' ' + crd.longitude;
      if(!crd.altitude) {
        document.getElementById('altitude').innerHTML = "Not available on this device."
      }
      else {document.getElementById('altitude').innerHTML = crd.altitude;}
      document.getElementById('accuracy').innerHTML = roundAcc + " Meters";
      document.getElementById('dateCode').innerHTML = d.toLocaleString().slice(0, 10);
      document.getElementById('timeCode').innerHTML = t.toLocaleString().slice(10, 25);
    }
    /* Error Codes: 1 PERMISSION_DENIED, 2 POSITION_UNAVAILABLE, 3 TIMEOUT */
    function error(err) {
      var geoerror = (err.code == (1, 2, 3) ? "Error loading" : err.message);
      document.getElementById('errMsg').innerHTML = geoerror;
      $('.overlay, .loader').fadeOut('fast');
    }
  }
}
function postContactToGoogle()  {
  var fName = document.getElementById('vresp2').innerHTML;
	var fEmail = $('#fEmail').val();
  var tOLevel = document.getElementById('vresp').innerHTML;
  var nameEntry = 'entry.569412235';
  var projectEntry = 'entry.320157692';
  var tagEntry = 'entry.1143322173';
  var formMain = "https://docs.google.com/forms/d/e/1FAIpQLSdvXT57YthGUIFqmd_4yFu8Wm1QkkVgFO7kf3DLTdTmdvRVVg/formResponse";

		$.ajax({
			url: formMain,
			data:  { 'entry.569412235' : fName , 'entry.320157692' : fEmail , 'entry.1143322173' : tOLevel },
			type: "POST",
			dataType: "xml",
			statusCode: {
				0: function () {
//					alert("Click -OK- to submit message");
				},
				200: function () {
//					alert("Click -OK- to submit message");
				}
				    }
		});
        setTimeout(function(){
          window.location.href = 'https://woodandmortar.github.io/';
        }, 2500);
				}
</script>

</body>

</html>
